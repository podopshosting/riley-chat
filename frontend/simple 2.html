<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riley SMS Dashboard - Simple</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .kanban-board { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .kanban-column { background: white; border-radius: 8px; padding: 20px; min-height: 400px; }
        .column-header { font-weight: 600; padding: 10px; margin: -20px -20px 20px -20px; border-radius: 8px 8px 0 0; text-align: center; }
        .conversation-card { background: #f8f9fa; border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 6px; cursor: pointer; }
        .conversation-card:hover { background: #e9ecef; }
        .customer-name { font-weight: 600; color: #007bff; margin-bottom: 5px; }
        .phone { color: #666; font-size: 0.9em; margin-bottom: 5px; }
        .btn { padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; margin: 5px; }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .test-section { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ“± Riley SMS Dashboard - Simple Version</h1>
            <p>Real-time SMS conversations from mobile devices</p>
        </div>

        <div class="test-section">
            <h3>ðŸ“± Add SMS Message</h3>
            <input type="text" id="test-phone" placeholder="+19175698563" style="padding: 8px; margin-right: 10px;">
            <input type="text" id="test-message" placeholder="Hello Riley, I need roofing help" style="padding: 8px; margin-right: 10px; width: 300px;">
            <button class="btn btn-primary" onclick="addSMSMessage()">Add SMS to New Leads</button>
        </div>

        <div class="kanban-board">
            <div class="kanban-column">
                <div class="column-header" style="background: #e3f2fd;">
                    New Leads (<span id="active-count">0</span>)
                </div>
                <div id="active-conversations-list">No SMS messages yet</div>
            </div>
            <div class="kanban-column">
                <div class="column-header" style="background: #fff3e0;">
                    Contacted (<span id="contacted-count">0</span>)
                </div>
                <div id="contacted-conversations-list">No contacted leads</div>
            </div>
            <div class="kanban-column">
                <div class="column-header" style="background: #e8f5e8;">
                    Qualified (<span id="qualified-count">0</span>)
                </div>
                <div id="qualified-conversations-list">No qualified leads</div>
            </div>
            <div class="kanban-column">
                <div class="column-header" style="background: #f3e5f5;">
                    Converted (<span id="converted-count">0</span>)
                </div>
                <div id="converted-conversations-list">No converted leads</div>
            </div>
        </div>
    </div>

    <script>
        let smsMessages = [];

        function addSMSMessage() {
            const phone = document.getElementById('test-phone').value.trim() || '+19175698563';
            const message = document.getElementById('test-message').value.trim() || 'Hello Riley, I need roofing help';
            
            const smsData = {
                id: Date.now().toString(),
                phone: phone,
                customerName: 'SMS Customer ' + phone.slice(-4),
                message: message,
                timestamp: new Date().toISOString(),
                status: 'active'
            };
            
            smsMessages.push(smsData);
            updateDisplay();
            
            document.getElementById('test-phone').value = '';
            document.getElementById('test-message').value = '';
            
            alert('SMS message added to New Leads!');
        }

        function updateDisplay() {
            const activeMessages = smsMessages.filter(m => m.status === 'active');
            const contactedMessages = smsMessages.filter(m => m.status === 'contacted');
            const qualifiedMessages = smsMessages.filter(m => m.status === 'qualified');
            const convertedMessages = smsMessages.filter(m => m.status === 'converted');
            
            document.getElementById('active-count').textContent = activeMessages.length;
            document.getElementById('contacted-count').textContent = contactedMessages.length;
            document.getElementById('qualified-count').textContent = qualifiedMessages.length;
            document.getElementById('converted-count').textContent = convertedMessages.length;
            
            updateMessageList('active-conversations-list', activeMessages);
            updateMessageList('contacted-conversations-list', contactedMessages);
            updateMessageList('qualified-conversations-list', qualifiedMessages);
            updateMessageList('converted-conversations-list', convertedMessages);
        }

        function updateMessageList(containerId, messages) {
            const container = document.getElementById(containerId);
            let html = '';
            
            messages.forEach(msg => {
                const time = new Date(msg.timestamp).toLocaleString();
                html += `
                    <div class="conversation-card">
                        <div class="customer-name">${msg.customerName}</div>
                        <div class="phone">${msg.phone}</div>
                        <div style="font-size: 0.9em; margin: 8px 0; color: #555;">${msg.message}</div>
                        <div style="font-size: 0.8em; color: #888;">${time}</div>
                        <div style="margin-top: 10px;">
                            <button class="btn btn-primary" onclick="moveMessage('${msg.id}', 'contacted')">Contact</button>
                            <button class="btn btn-success" onclick="moveMessage('${msg.id}', 'qualified')">Qualify</button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html || '<div style="text-align: center; color: #666; padding: 20px;">No messages</div>';
        }

        function moveMessage(messageId, newStatus) {
            const message = smsMessages.find(m => m.id === messageId);
            if (message) {
                message.status = newStatus;
                updateDisplay();
            }
        }

        // Auto-refresh simulation
        setInterval(() => {
            console.log('Dashboard refreshed - SMS messages:', smsMessages.length);
        }, 30000);

        // Initialize
        updateDisplay();
    </script>
</body>
</html>